# Tron Wallet Info Microservice

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –Ω–∞ FastAPI, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –∞–¥—Ä–µ—Å—É –≤ —Å–µ—Ç–∏ Tron: `balance`, `bandwidth`, `energy`.

## –°—Ç–µ–∫

- FastAPI  
- SQLAlchemy ORM (async)  
- TronPy  
- SQLite  
- Pytest (–¥–ª—è —Ç–µ—Å—Ç–æ–≤)

---

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.9+

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤—Ä—É—á–Ω—É—é:

```env
API=your_trongrid_api_key
```

TronGrid API-–∫–ª—é—á –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∑–¥–µ—Å—å: https://www.trongrid.io/

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
uvicorn app.main:app --reload
```

---

## –¢–µ—Å—Ç—ã

```bash
pytest
```

---

## üì¨ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### `POST /wallets`

–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –∞–¥—Ä–µ—Å—É Tron-–∫–æ—à–µ–ª—å–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î.

#### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

```json
{
  "address": "TXYZ1234567890"
}
```

#### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
  "id": 1,
  "address": "TXYZ1234567890",
  "bandwidth": 500,
  "energy": 1500,
  "balance": 123.45,
  "created_at": "2025-04-03T12:00:00"
}
```

---

### `GET /wallets?skip=0&limit=10`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π).

#### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
[
  {
    "id": 1,
    "address": "TXYZ1234567890",
    "bandwidth": 500,
    "energy": 1500,
    "balance": 123.45,
    "created_at": "2025-04-03T12:00:00"
  }
]
```

---

## ‚öôÔ∏è –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### `POST /setup_datebase`

–≠—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
